<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Koala</title>
    <%- include('link') %>
    <style>
        body, html {
            height: 100%;
        }
        .logo:hover {
            border-radius: 40px;
            background: #ffc824;
            box-shadow: 3px 3px 15px #ffd042;
        }
        #loading {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            z-index: 2000;
        }
        .row {
            height: 100%;
            display: flex;
            align-items: center;
        }
        .body {
            height: 85%;
            background-image: url('/another-images/background.jpg');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
        }
        .otp-input {
            display: none;
        }
    </style>
    <script src='/js/main-script.js'></script>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-warning">
        <div class="container-fluid">
            <div class="logo">
                <a class="navbar-brand ms-3 d-flex align-items-center" href="/category"><img style="width: 40px;" src="/another-images/koala.png" alt=""><b class="fs-3"><i>Koala</i></b></a>
            </div>
        </div>
    </nav>
    <div id="loading">
        <div class="spinner-grow text-danger" role="status">
            <span class="visually-hidden"></span>
          </div>
          <div class="spinner-grow text-success mx-1" role="status">
            <span class="visually-hidden"></span>
          </div>
          <div class="spinner-grow text-warning" role="status">
            <span class="visually-hidden"></span>
          </div>
    </div>
    <div class="container-fluid body">
        <div class="row">
            <div class="col-xl-6 col-lg-6 col-md-12 col-12 text-center">
                <div class="double-btn">
                    <button type="button" class="btn btn-outline-warning fs-2 fw-bold px-5 mb-3 border-3 two-btn" data-bs-toggle="modal" data-bs-target="#login-form">
                        Login
                    </button><br>
                    <button type="button" class="btn btn-warning fs-2 px-5 two-btn mt-3" data-bs-toggle="modal" data-bs-target="#register-form">
                        Register
                    </button>
                </div>
            </div>
        </div>
        <!-- Login Form -->
        <div class="modal fade" id="login-form" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title display-3" id="exampleModalLabel">Login</h5>
                        <button id="login-close" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-4">
                        <form action="/login" method="post" id="login-form">
                            <div class="form-floating mb-4">
                                <input type="email" name="login-username" class="form-control" id="floatingInput1" placeholder="Username">
                                <label for="floatingInput1">Username</label>
                            </div>
                            <div class="form-floating">
                                <input type="password" name="login-password" class="form-control" id="floatingPassword1" placeholder="Password">
                                <label for="floatingPassword1">Password</label>
                            </div>
                        </form>
                        <div class="forget text-end my-1">
                            <a class='link' href="/forget-password">forget password?</a>
                        </div>
                        <div id="bottom-status" class="text-center">
                            <span id="login-status" class="text-danger"></span>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" id="login-cancel" data-bs-dismiss="modal">cancel</button>
                        <button type="button" class="btn btn-primary" id='login'>login</button>
                    </div>
                </div>
            </div>
        </div>
    
        <!-- Register Form -->
        <div class="modal fade" id="register-form" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title display-3" id="exampleModalLabel">Register</h5>
                        <button id="register-close" type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body p-4">
                        <form action="/register" method="post" id="register-form">
                            <div class="form-floating my-3">
                                <input type="email" name="register-email" class="form-control" id="floatingInput2" placeholder="name@example.com">
                                <label for="floatingInput2">Email address</label>
                                <span id="email-status" class="text-danger"></span>
                            </div>
                            <div class="form-floating my-3">
                                <input type="text"
                                name="register-username" class="form-control" id="floatingUsername" placeholder="Username" maxlength="16">
                                <label for="floatingUsername">Username</label>
                                <span id="username-status" class="text-danger"></span>
                            </div>
                            <div class="form-floating my-3">
                                <input type="password" name="register-password" class="form-control" id="floatingPassword2" placeholder="Password">
                                <label for="floatingPassword2">Password</label>
                            </div>
                            <div class="form-floating my-3">
                                <input type="password" name="register-confirm" class="form-control" id="floatingPasswordC" placeholder="Password">
                                <label for="floatingPasswordC">Confirm password</label>
                                <span id="password-status" class="text-danger"></span>
                            </div>
                            <div class="form-floating my-3">
                                <textarea class="form-control" name="register-address" placeholder="Address" id="floatingTextarea2" style="height: 120px; resize: none;"></textarea>
                                <label for="floatingTextarea2">Address</label>
                            </div>
                            <div class="form-floating my-3">
                                <input type="text" name="register-tel" class="form-control" id="floatingTel" placeholder="Telephone number">
                                <label for="floatingTel" maxlength="10">Telephone number</label>
                                <span id='tel-status' class="text-danger"></span>
                            </div>
                            <div class="captcha">
                                <img src="/create-captcha" class="w-50" id='captcha-image'>
                                <button class="btn btn-light border" type='button' id='refresh'>ðŸ—˜</button>
                            </div>
                            <div class="captcha-input">
                                <input type="text" name="register-captcha" class="form-control w-50 mt-2" placeholder="Captcha code">
                                <span id='captcha-status' class='text-danger'></span>
                            </div>
                            <div class="otp-input">
                                <input type="text" name="register-otp" class="form-control w-50 mt-2" placeholder="OTP">
                                <button type="button" id='send-again' class='btn btn-outline-warning'>send again</button>
                                <span id='otp-status' class='text-danger'></span>
                                <p id='countdown'></p>
                            </div>
                        </form>
                    </div>
                    <div class="modal-footer">
                        <button type="button" id="register-cancel" class="btn btn-secondary" data-bs-dismiss="modal">cancel</button>
                        <button type="button" class="btn btn-primary" id='register'>register</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <%- include('footer') %>
</body>
</html>